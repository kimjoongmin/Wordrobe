(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},15768,e=>{"use strict";function t(e){let t=[...e];for(let e=t.length-1;e>0;e--){let l=Math.floor(Math.random()*(e+1));[t[e],t[l]]=[t[l],t[e]]}return t}e.s(["shuffleArray",()=>t])},91610,e=>{"use strict";var t=e.i(43476),l=e.i(71645),s=e.i(59133),a=e.i(80634),r=e.i(10984);function n({level:n,onComplete:i,onLevelComplete:o,onHint:d}){var c;let[u,x]=(0,l.useState)(0),[p,h]=(0,l.useState)([]),[m,f]=(0,l.useState)([]),[g,b]=(0,l.useState)(!1),[y,j]=(0,l.useState)(!1),[w,v]=(0,l.useState)(!1),[N,k]=(0,l.useState)(null),[S,C]=(0,l.useState)(null),[_,M]=(0,l.useState)(!1),E=(0,l.useRef)(!1),L=n.sentences[u],$=(c=n.id)<=3?10:c<=7?20:30;(0,l.useEffect)(()=>{let e=n.sentences[u];e&&(f([...e.english.map((e,t)=>({id:`${e}-${t}`,text:e}))].sort(()=>Math.random()-.5)),h([]),b(!1),j(!1),k(null),C(null),M(!1),E.current=!1)},[u,n]);let I=()=>{j(!1),u<n.sentences.length-1?x(e=>e+1):setTimeout(()=>{A(!0),alert("Level Complete! Great job! ðŸŽ‰"),x(0),o()},100)},A=(e=!1)=>{if(e){let e={origin:{y:.7}};function t(t,l){(0,s.default)({...e,...l,particleCount:Math.floor(200*t)})}t(.25,{spread:26,startVelocity:55}),t(.2,{spread:60}),t(.35,{spread:100,decay:.91,scalar:.8}),t(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),t(.1,{spread:120,startVelocity:45})}else(0,s.default)({particleCount:100,spread:70,origin:{y:.6},colors:["#FF69B4","#FFD700","#00BFFF"]})},T=async t=>{try{let{TextToSpeech:l}=await e.A(85706);await l.speak({text:t,lang:"en-US",rate:1,pitch:1,volume:1,category:"ambient"})}catch{if(window.speechSynthesis){window.speechSynthesis.cancel();let e=new SpeechSynthesisUtterance(t);e.lang="en-US",e.rate=1,window.speechSynthesis.speak(e)}else console.warn("Speech Synthesis not supported")}};return(0,t.jsxs)("div",{className:"flex flex-col items-center w-full max-w-lg mx-auto p-2 py-4 h-full relative",children:[(0,t.jsx)("div",{className:"w-full h-2 bg-gray-200 rounded-full mb-5 shrink-0 overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-gradient-to-r from-pink-400 to-purple-400 rounded-full transition-all duration-500 ease-out",style:{width:`${u/n.sentences.length*100}%`}})}),(0,t.jsxs)("div",{className:"flex-1 w-full flex flex-col justify-center space-y-1 md:space-y-2 min-h-0 ",children:[(0,t.jsxs)("div",{className:"w-full text-center space-y-1 shrink-0",children:[(0,t.jsx)("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest block",children:"Translate this"}),(0,t.jsx)("h2",{className:"text-lg md:text-2xl font-black text-gray-700 leading-tight halo-text break-keep",children:L?.korean})]}),(0,t.jsxs)("div",{className:`
            min-h-[60px] md:min-h-[80px] w-full bg-white/40 rounded-3xl border-2 border-dashed
            flex flex-wrap items-center justify-center gap-2.5 p-3 transition-all duration-300 shrink-0
            shadow-[inset_0_2px_8px_rgba(0,0,0,0.05)]
            ${g?"border-red-300 bg-red-50/50 shake ring-2 ring-red-200":"border-gray-200"}
            ${y?"border-green-400 bg-green-50/50 scale-[1.02] border-solid ring-4 ring-green-200/50 shadow-lg":""}
            ${p.length>0&&!g&&!y?"border-pink-300/40 border-solid bg-white/60":""}
        `,children:[0===p.length&&!y&&(0,t.jsx)("span",{className:"text-gray-400 text-sm font-bold opacity-60 animate-pulse",children:"Tap words to build sentence"}),p.map((e,l)=>(0,t.jsx)("button",{onClick:()=>((e,t)=>{if(y)return;let l=p.filter((e,l)=>l!==t);a.soundManager.playSound("pop",.8),h(l),f(t=>[...t,{id:`${e}-${Date.now()}`,text:e}])})(e,l),className:"relative shrink-0",children:(0,t.jsxs)("div",{className:"bg-white px-3 py-1.5 md:px-4 md:py-2 rounded-2xl font-bold text-gray-700 jelly-depth-white border border-gray-50 flex items-center justify-center text-sm md:text-base group-hover:bg-red-50 transition-colors",children:[(0,t.jsx)("div",{className:"jelly-gloss-layer opacity-40"}),(0,t.jsx)("span",{className:"relative z-10",children:e})]})},l))]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto custom-scrollbar w-full min-h-0 py-2",children:(0,t.jsx)("div",{className:"flex flex-wrap justify-center gap-3 md:gap-4 content-start pb-4",children:m.map(e=>(0,t.jsx)("button",{onClick:()=>{var t,l;return t=e.text,l=e.id,void(!y&&(a.soundManager.playSound("pop",.9),h(e=>[...e,t]),f(e=>e.filter(e=>e.id!==l)),b(!1)))},className:"relative shrink-0",children:(0,t.jsxs)("div",{className:"bg-white/90 text-gray-700 font-black py-2 px-3.5 md:py-2.5 md:px-6 rounded-2xl md:rounded-[1.25rem] text-sm md:text-lg border border-white/80 jelly-depth-white flex flex-col items-center",children:[(0,t.jsx)("div",{className:"jelly-gloss-layer opacity-50"}),(0,t.jsx)("span",{className:"relative z-10",children:e.text})]})},e.id))})})]}),(0,t.jsxs)("div",{className:"flex gap-3 w-full shrink-0 mt-auto border-t border-gray-100/30 pt-3",children:[(0,t.jsxs)("button",{onClick:()=>{y||(a.soundManager.playSound("click"),f([...L.english.map((e,t)=>({id:`${e}-${t}`,text:e}))].sort(()=>Math.random()-.5)),h([]))},className:"w-12 h-12 relative jelly-active-click z-20 group",title:"Reset",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-50 to-gray-200 border border-white rounded-2xl jelly-depth-gray",children:(0,t.jsx)("div",{className:"jelly-gloss-layer"})}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400 group-hover:text-gray-600 transition-colors pointer-events-none",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("path",{d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})})})]}),(0,t.jsxs)("button",{onClick:()=>{y||g||(a.soundManager.playSound("click"),d()&&T(L.english.join(" ")))},className:"w-12 h-12 relative jelly-active-click z-20 group",title:"Hint (-20 pts)",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-yellow-50 to-yellow-200 border border-white rounded-2xl jelly-depth-yellow",children:(0,t.jsx)("div",{className:"jelly-gloss-layer"})}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-xl pointer-events-none",children:"ðŸ’¡"})]}),(0,t.jsx)("button",{onClick:()=>{if(E.current)return;let e=p.join(" "),t=L.english.join(" ");e===t?(j(!0),a.soundManager.playSound("success"),A(),T(t),E.current=!0,(0,r.incrementStat)("sentence"),i($)):(b(!0),a.soundManager.playSound("fail",.3),setTimeout(()=>{b(!1)},1e3))},disabled:0===p.length,className:`flex-1 h-12 relative jelly-active-click z-20 group ${0===p.length?"opacity-60 cursor-not-allowed":""}`,children:p.length>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-pink-400 to-pink-500 rounded-2xl border-t border-white/40 jelly-depth-pink",children:(0,t.jsx)("div",{className:"jelly-gloss-layer"})}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center font-black text-white text-lg tracking-wider pointer-events-none",children:"CHECK"})]}):(0,t.jsx)("div",{className:"absolute inset-0 bg-gray-200 rounded-2xl border border-gray-300 flex items-center justify-center font-black text-gray-400 text-lg",children:"CHECK"})})]}),y&&(0,t.jsxs)("div",{className:"absolute inset-0 bg-white/95 backdrop-blur-md flex flex-col items-center justify-center p-6 z-40 animate-fade-in space-y-8",children:[(0,t.jsx)("h2",{className:"text-3xl font-black text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-emerald-600 drop-shadow-sm",children:"Correct!"}),(0,t.jsx)("div",{className:"text-xl font-medium text-gray-700 text-center",children:L.english.join(" ")}),(0,t.jsxs)("div",{className:"h-12 flex items-center justify-center",children:[w&&(0,t.jsx)("span",{className:"text-pink-500 font-bold animate-pulse",children:"Listening... ðŸŽ™ï¸"}),"perfect"===S&&(0,t.jsxs)("span",{className:"text-green-500 font-bold text-xl",children:["Perfect! +",$," Points ðŸŒŸ"]}),"try_again"===S&&(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("span",{className:"text-orange-400 font-bold block",children:"Try again!"}),(0,t.jsxs)("span",{className:"text-sm text-gray-400",children:['You said: "',N,'"']})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 w-full max-w-xs",children:[(0,t.jsxs)("button",{onClick:()=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window))return void alert("Speech recognition is not supported in this browser. Try Chrome or Safari.");let e=window.SpeechRecognition||window.webkitSpeechRecognition;if(!e)return;let t=new e;t.lang="en-US",t.interimResults=!1,t.maxAlternatives=1,v(!0),C(null),k(null),t.start(),t.onresult=e=>{let t=e.results[0][0].transcript;k(t);let l=L.english.join(" ").toLowerCase(),s=t.toLowerCase(),a=l.replace(/[.,!?]/g,"").split(/\s+/),r=s.replace(/[.,!?]/g,"").split(/\s+/),n=0;a.forEach(e=>{r.includes(e)&&n++}),n/a.length>=.6||s.includes(l.replace(/[.,!?]/g,""))?(C("perfect"),A(),T(`Perfect! +${$} Points`),_||(i($),M(!0),setTimeout(()=>{I()},2e3))):C("try_again"),v(!1)},t.onerror=()=>{v(!1),C("try_again")},t.onend=()=>{v(!1)}},disabled:w,className:`
                 flex-1 h-16 rounded-2xl font-bold text-white shadow-lg transition-all active:scale-95 flex flex-col items-center justify-center gap-1
                 ${w?"bg-gray-400 cursor-wait":"bg-gradient-to-b from-blue-400 to-blue-600 shadow-blue-200"}
               `,children:[(0,t.jsx)("span",{className:"text-2xl",children:"ðŸŽ¤"}),(0,t.jsx)("span",{className:"text-xs",children:"Practice"})]}),(0,t.jsxs)("button",{onClick:I,className:"flex-1 h-16 rounded-2xl font-bold text-white shadow-lg transition-all active:scale-95 bg-gradient-to-b from-green-400 to-green-600 shadow-green-200 flex flex-col items-center justify-center gap-1",children:[(0,t.jsx)("span",{className:"text-2xl",children:"âž¡ï¸"}),(0,t.jsx)("span",{className:"text-xs",children:"Next"})]})]}),(0,t.jsx)("button",{onClick:()=>T(L.english.join(" ")),className:"text-gray-400 text-sm hover:text-gray-600 underline",children:"Hear it again ðŸ”Š"})]})]})}e.s(["default",()=>n])},22710,e=>{"use strict";var t=e.i(43476),l=e.i(71645),s=e.i(70119),a=e.i(28381),r=e.i(88737),n=e.i(91610),i=e.i(42505),o=e.i(36861),d=e.i(24447),c=e.i(35293),u=e.i(80634),x=e.i(18566),p=e.i(15768);function h(){(0,c.useKakaoBrowserEscape)();let e=(0,x.useRouter)(),h="shop"===(0,x.useSearchParams)().get("tab")?"shop":"play",[m,f]=(0,l.useState)(!1),[g,b]=(0,l.useState)(0),[y,j]=(0,l.useState)(1),[w,v]=(0,l.useState)(!1),[N,k]=(0,l.useState)("avatar_base"),[S,C]=(0,l.useState)("bg_default"),[_,M]=(0,l.useState)(null),[E,L]=(0,l.useState)(!0),[$,I]=(0,l.useState)([]),[A,T]=(0,l.useState)(h),[P,B]=(0,l.useState)(0);return(0,l.useEffect)(()=>{let e=localStorage.getItem("wordrobe_points"),t=localStorage.getItem("wordrobe_level"),l=localStorage.getItem("wordrobe_owned"),s=localStorage.getItem("wordrobe_equipped"),a=localStorage.getItem("wordrobe_bg_equipped");e&&b(Number(e)),t&&j(Number(t)),l&&I(JSON.parse(l)),s&&k(s),a&&C(a),v(!0),u.soundManager.init()},[]),(0,l.useEffect)(()=>{w&&localStorage.setItem("wordrobe_points",g.toString())},[g,w]),(0,l.useEffect)(()=>{w&&localStorage.setItem("wordrobe_level",y.toString())},[y,w]),(0,l.useEffect)(()=>{w&&localStorage.setItem("wordrobe_owned",JSON.stringify($))},[$,w]),(0,l.useEffect)(()=>{w&&localStorage.setItem("wordrobe_equipped",N)},[N,w]),(0,l.useEffect)(()=>{w&&localStorage.setItem("wordrobe_bg_equipped",S)},[S,w]),(0,l.useEffect)(()=>{let e=async()=>{L(!0);try{if(y>=1&&y<=10&&d.LEVELS[y-1]){let e=d.LEVELS[y-1];M({...e,sentences:(0,p.shuffleArray)(e.sentences)})}else{let e=await (0,d.fetchSentences)();if(!e||0===e.length){console.warn("No dynamic sentence data available for levels beyond 10."),M(null),L(!1);return}let t=(y-1)*3,l=e.slice(t,t+3);M({id:y,description:`Level ${y}`,sentences:l.map(e=>({korean:e.korean,english:Array.isArray(e.english)?e.english:e.english.split(" ")}))})}}catch(e){console.error("Failed to load level data:",e)}finally{L(!1)}};w&&e()},[y,w]),(0,t.jsx)("main",{className:"h-screen w-full bg-slate-100 flex items-center justify-center font-sans overflow-hidden",onClick:()=>u.soundManager.playBGM(),children:(0,t.jsxs)("div",{className:"w-full max-w-md h-full bg-pink-50 flex flex-col relative shadow-2xl overflow-hidden md:rounded-3xl md:h-[95vh] md:border-8 md:border-gray-800 transition-all duration-500 ease-out",style:{paddingTop:"max(env(safe-area-inset-top))",paddingBottom:"max(env(safe-area-inset-bottom))"},children:[(0,t.jsx)(a.default,{isOpen:m,onClose:()=>f(!1)}),(0,t.jsx)(s.default,{points:g,onMenuClick:()=>f(!0),onLogoClick:()=>{u.soundManager.playSound("click"),e.push("/")},onPointsClick:()=>{let e=P+1;B(e),e>=11&&(b(e=>e+5e3),alert("ðŸ¦¸â€â™‚ï¸ ì•„ë¹ ê°€ ìš©ëˆ 5000ì› ì¤¬ë‹¤! (Daddy's Chance Applied)"),B(0))}}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto custom-scrollbar flex flex-col",children:[(0,t.jsx)(r.default,{equippedAvatar:N,equippedBackground:S}),(0,t.jsx)("div",{className:"flex-1 bg-white/60 backdrop-blur-md shadow-[0_-5px_20px_rgba(0,0,0,0.05)] border-t border-white/80 p-4 pb-20 min-h-[400px]",children:"play"===A?(0,t.jsxs)("div",{className:"h-full flex flex-col",children:[(0,t.jsxs)("div",{className:"flex justify-between items-end mb-2",children:[(0,t.jsx)("h2",{className:"text-2xl font-black text-gray-700",children:"Sentence"}),(0,t.jsx)(i.default,{currentLevelId:y,levels:Array.from({length:10},(e,t)=>({id:t+1})),onLevelChange:j,colorTheme:"pink"})]}),E?(0,t.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 border-4 border-pink-200 border-t-pink-500 rounded-full animate-spin"}),(0,t.jsx)("p",{className:"text-gray-400 font-bold animate-pulse text-xs uppercase",children:"LOADING QUESTIONS..."})]}):_?(0,t.jsx)(n.default,{level:_,onComplete:e=>{b(t=>t+e)},onLevelComplete:()=>{y<10&&j(e=>e+1)},onHint:()=>g>=20?(b(e=>e-20),!0):(alert("ì½”ì¸ì´ ë¶€ì¡±í•©ë‹ˆë‹¤! (20ì½”ì¸ í•„ìš”)"),!1)},_.id):(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center text-red-400",children:"Failed to load data."})]}):(0,t.jsx)(o.default,{points:g,ownedItems:$,onBuy:e=>{g>=e.cost&&!$.includes(e.id)&&(b(t=>t-e.cost),I(t=>[...t,e.id]),"avatar"===e.type?k(e.id):"background"===e.type&&C(e.id),u.soundManager.playSound("success"))},onEquip:e=>{"avatar"===e.type?k(e.id):"background"===e.type&&C(e.id),u.soundManager.playSound("click")},equippedAvatar:N,equippedBackground:S})})]}),(0,t.jsxs)("nav",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 bg-white/90 backdrop-blur-xl p-1.5 rounded-full shadow-2xl border border-white/60 flex gap-1 z-50",children:[(0,t.jsxs)("button",{onClick:()=>{u.soundManager.playSound("click"),T("play")},className:`px-6 py-3 rounded-full font-bold text-sm transition-all flex items-center gap-2
              ${"play"===A?"bg-gradient-to-r from-pink-500 to-purple-500 text-white shadow-md transform scale-105":"text-gray-400 hover:bg-gray-100"}
            `,children:[(0,t.jsx)("span",{children:"ðŸŽ®"})," Play"]}),(0,t.jsxs)("button",{onClick:()=>{u.soundManager.playSound("click"),T("shop")},className:`px-6 py-3 rounded-full font-bold text-sm transition-all flex items-center gap-2
              ${"shop"===A?"bg-gradient-to-r from-yellow-400 to-orange-400 text-white shadow-md transform scale-105":"text-gray-400 hover:bg-gray-100"}
            `,children:[(0,t.jsx)("span",{children:"ðŸ›ï¸"})," Shop"]})]})]})})}function m(){return(0,t.jsx)(l.Suspense,{fallback:(0,t.jsx)("main",{className:"h-screen w-full bg-slate-100 flex items-center justify-center font-sans overflow-hidden",children:(0,t.jsx)("div",{className:"w-full max-w-md h-full bg-pink-50 flex flex-col relative shadow-2xl overflow-hidden md:rounded-3xl md:h-[95vh] md:border-8 md:border-gray-800 transition-all duration-500 ease-out",children:(0,t.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 border-4 border-pink-200 border-t-pink-500 rounded-full animate-spin"}),(0,t.jsx)("p",{className:"text-gray-400 font-bold animate-pulse text-xs uppercase",children:"LOADING..."})]})})}),children:(0,t.jsx)(h,{})})}e.s(["default",()=>m])},85706,e=>{e.v(t=>Promise.all(["static/chunks/9b6fd2e67f142a82.js"].map(t=>e.l(t))).then(()=>t(58371)))}]);