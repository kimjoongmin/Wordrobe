(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32189,(e,t,a)=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},65156,(e,t,a)=>{"use strict";var n=e.r(32189);function r(){}function o(){}o.resetWarningCache=r,t.exports=function(){function e(e,t,a,r,o,i){if(i!==n){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return a.PropTypes=a,a}},45009,(e,t,a)=>{t.exports=e.r(65156)()},39146,(e,t,a)=>{function n(){for(var e,t,a=0,n="",r=arguments.length;a<r;a++)(e=arguments[a])&&(t=function e(t){var a,n,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t)){var o=t.length;for(a=0;a<o;a++)t[a]&&(n=e(t[a]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}(e))&&(n&&(n+=" "),n+=t);return n}t.exports=n,t.exports.clsx=n},11330,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.dontSetMe=function(e,t,a){if(e[t])return Error(`Invalid prop ${t} passed to ${a} - do not set this, set it on the child.`)},a.findInArray=function(e,t){for(let a=0,n=e.length;a<n;a++)if(t.apply(t,[e[a],a,e]))return e[a]},a.int=function(e){return parseInt(e,10)},a.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},a.isNum=function(e){return"number"==typeof e&&!isNaN(e)}},43177,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.browserPrefixToKey=o,a.browserPrefixToStyle=function(e,t){return t?`-${t.toLowerCase()}-${e}`:e},a.default=void 0,a.getPrefix=r;let n=["Moz","Webkit","O","ms"];function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("u"<typeof window)return"";let t=window.document?.documentElement?.style;if(!t||e in t)return"";for(let a=0;a<n.length;a++)if(o(e,n[a])in t)return n[a];return""}function o(e,t){return t?`${t}${function(e){let t="",a=!0;for(let n=0;n<e.length;n++)a?(t+=e[n].toUpperCase(),a=!1):"-"===e[n]?a=!0:t+=e[n];return t}(e)}`:e}a.default=r()},58618,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.addClassName=c,a.addEvent=function(e,t,a,n){if(!e)return;let r={capture:!0,...n};e.addEventListener?e.addEventListener(t,a,r):e.attachEvent?e.attachEvent("on"+t,a):e["on"+t]=a},a.addUserSelectStyles=function(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t)),e.body&&c(e.body,"react-draggable-transparent-selection")},a.createCSSTransform=function(e,t){let a=l(e,t,"px");return{[(0,r.browserPrefixToKey)("transform",r.default)]:a}},a.createSVGTransform=function(e,t){return l(e,t,"")},a.getTouch=function(e,t){return e.targetTouches&&(0,n.findInArray)(e.targetTouches,e=>t===e.identifier)||e.changedTouches&&(0,n.findInArray)(e.changedTouches,e=>t===e.identifier)},a.getTouchIdentifier=function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0},a.getTranslation=l,a.innerHeight=function(e){let t=e.clientHeight,a=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,n.int)(a.paddingTop),t-=(0,n.int)(a.paddingBottom)},a.innerWidth=function(e){let t=e.clientWidth,a=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,n.int)(a.paddingLeft),t-=(0,n.int)(a.paddingRight)},a.matchesSelector=s,a.matchesSelectorAndParentsTo=function(e,t,a){let n=e;do{if(s(n,t))return!0;if(n===a)break;n=n.parentNode}while(n)return!1},a.offsetXYFromParent=function(e,t,a){let n=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:(e.clientX+t.scrollLeft-n.left)/a,y:(e.clientY+t.scrollTop-n.top)/a}},a.outerHeight=function(e){let t=e.clientHeight,a=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,n.int)(a.borderTopWidth),t+=(0,n.int)(a.borderBottomWidth)},a.outerWidth=function(e){let t=e.clientWidth,a=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,n.int)(a.borderLeftWidth),t+=(0,n.int)(a.borderRightWidth)},a.removeClassName=u,a.removeEvent=function(e,t,a,n){if(!e)return;let r={capture:!0,...n};e.removeEventListener?e.removeEventListener(t,a,r):e.detachEvent?e.detachEvent("on"+t,a):e["on"+t]=null},a.scheduleRemoveUserSelectStyles=function(e){window.requestAnimationFrame?window.requestAnimationFrame(()=>{d(e)}):d(e)};var n=e.r(11330),r=o(e.r(43177));function o(e,t){if("function"==typeof WeakMap)var a=new WeakMap,n=new WeakMap;return(o=function(e,t){if(!t&&e&&e.__esModule)return e;var r,o,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(r=t?n:a){if(r.has(e))return r.get(e);r.set(e,i)}for(let t in e)"default"!==t&&({}).hasOwnProperty.call(e,t)&&((o=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(o.get||o.set)?r(i,t,o):i[t]=e[t]);return i})(e,t)}let i="";function s(e,t){return i||(i=(0,n.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,n.isFunction)(e[t])})),!!(0,n.isFunction)(e[i])&&e[i](t)}function l(e,t,a){let{x:n,y:r}=e,o=`translate(${n}${a},${r}${a})`;if(t){let e=`${"string"==typeof t.x?t.x:t.x+a}`,n=`${"string"==typeof t.y?t.y:t.y+a}`;o=`translate(${e}, ${n})`+o}return o}function d(e){if(e)try{if(e.body&&u(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{let t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}}function c(e,t){e.classList?e.classList.add(t):e.className.match(RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=` ${t}`)}function u(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(RegExp(`(?:^|\\s)${t}(?!\\S)`,"g"),"")}},50035,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},a.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},a.createCoreData=function(e,t,a){let r=!(0,n.isNum)(e.lastX),i=o(e);return r?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:a,x:t,y:a}:{node:i,deltaX:t-e.lastX,deltaY:a-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:a}},a.createDraggableData=function(e,t){let a=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/a,y:e.state.y+t.deltaY/a,deltaX:t.deltaX/a,deltaY:t.deltaY/a,lastX:e.state.x,lastY:e.state.y}},a.getBoundPosition=function(e,t,a){var i;if(!e.props.bounds)return[t,a];let{bounds:s}=e.props;s="string"==typeof s?s:{left:(i=s).left,top:i.top,right:i.right,bottom:i.bottom};let l=o(e);if("string"==typeof s){let e,{ownerDocument:t}=l,a=t.defaultView;if(!((e="parent"===s?l.parentNode:l.getRootNode().querySelector(s))instanceof a.HTMLElement))throw Error('Bounds selector "'+s+'" could not find an element.');let o=a.getComputedStyle(l),i=a.getComputedStyle(e);s={left:-l.offsetLeft+(0,n.int)(i.paddingLeft)+(0,n.int)(o.marginLeft),top:-l.offsetTop+(0,n.int)(i.paddingTop)+(0,n.int)(o.marginTop),right:(0,r.innerWidth)(e)-(0,r.outerWidth)(l)-l.offsetLeft+(0,n.int)(i.paddingRight)-(0,n.int)(o.marginRight),bottom:(0,r.innerHeight)(e)-(0,r.outerHeight)(l)-l.offsetTop+(0,n.int)(i.paddingBottom)-(0,n.int)(o.marginBottom)}}return(0,n.isNum)(s.right)&&(t=Math.min(t,s.right)),(0,n.isNum)(s.bottom)&&(a=Math.min(a,s.bottom)),(0,n.isNum)(s.left)&&(t=Math.max(t,s.left)),(0,n.isNum)(s.top)&&(a=Math.max(a,s.top)),[t,a]},a.getControlPosition=function(e,t,a){let n="number"==typeof t?(0,r.getTouch)(e,t):null;if("number"==typeof t&&!n)return null;let i=o(a),s=a.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,r.offsetXYFromParent)(n||e,s,a.props.scale)},a.snapToGrid=function(e,t,a){return[Math.round(t/e[0])*e[0],Math.round(a/e[1])*e[1]]};var n=e.r(11330),r=e.r(58618);function o(e){let t=e.findDOMNode();if(!t)throw Error("<DraggableCore>: Unmounted during event!");return t}},8107,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){}},92006,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=u(e.r(71645)),r=c(e.r(45009)),o=c(e.r(74080)),i=e.r(58618),s=e.r(50035),l=e.r(11330),d=c(e.r(8107));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"==typeof WeakMap)var a=new WeakMap,n=new WeakMap;return(u=function(e,t){if(!t&&e&&e.__esModule)return e;var r,o,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(r=t?n:a){if(r.has(e))return r.get(e);r.set(e,i)}for(let t in e)"default"!==t&&({}).hasOwnProperty.call(e,t)&&((o=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(o.get||o.set)?r(i,t,o):i[t]=e[t]);return i})(e,t)}function h(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let f={start:"touchstart",move:"touchmove",stop:"touchend"},p={start:"mousedown",move:"mousemove",stop:"mouseup"},g=p;class m extends n.Component{constructor(){super(...arguments),h(this,"dragging",!1),h(this,"lastX",NaN),h(this,"lastY",NaN),h(this,"touchIdentifier",null),h(this,"mounted",!1),h(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;let t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw Error("<DraggableCore> not mounted on DragStart!");let{ownerDocument:a}=t;if(this.props.disabled||!(e.target instanceof a.defaultView.Node)||this.props.handle&&!(0,i.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,i.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;"touchstart"!==e.type||this.props.allowMobileScroll||e.preventDefault();let n=(0,i.getTouchIdentifier)(e);this.touchIdentifier=n;let r=(0,s.getControlPosition)(e,n,this);if(null==r)return;let{x:o,y:l}=r,c=(0,s.createCoreData)(this,o,l);(0,d.default)("DraggableCore: handleDragStart: %j",c),(0,d.default)("calling",this.props.onStart),!1!==this.props.onStart(e,c)&&!1!==this.mounted&&(this.props.enableUserSelectHack&&(0,i.addUserSelectStyles)(a),this.dragging=!0,this.lastX=o,this.lastY=l,(0,i.addEvent)(a,g.move,this.handleDrag),(0,i.addEvent)(a,g.stop,this.handleDragStop))}),h(this,"handleDrag",e=>{let t=(0,s.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:a,y:n}=t;if(Array.isArray(this.props.grid)){let e=a-this.lastX,t=n-this.lastY;if([e,t]=(0,s.snapToGrid)(this.props.grid,e,t),!e&&!t)return;a=this.lastX+e,n=this.lastY+t}let r=(0,s.createCoreData)(this,a,n);if((0,d.default)("DraggableCore: handleDrag: %j",r),!1===this.props.onDrag(e,r)||!1===this.mounted){try{this.handleDragStop(new MouseEvent("mouseup"))}catch(t){let e=document.createEvent("MouseEvents");e.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(e)}return}this.lastX=a,this.lastY=n}),h(this,"handleDragStop",e=>{if(!this.dragging)return;let t=(0,s.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:a,y:n}=t;if(Array.isArray(this.props.grid)){let e=a-this.lastX||0,t=n-this.lastY||0;[e,t]=(0,s.snapToGrid)(this.props.grid,e,t),a=this.lastX+e,n=this.lastY+t}let r=(0,s.createCoreData)(this,a,n);if(!1===this.props.onStop(e,r)||!1===this.mounted)return!1;let o=this.findDOMNode();o&&this.props.enableUserSelectHack&&(0,i.scheduleRemoveUserSelectStyles)(o.ownerDocument),(0,d.default)("DraggableCore: handleDragStop: %j",r),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,o&&((0,d.default)("DraggableCore: Removing handlers"),(0,i.removeEvent)(o.ownerDocument,g.move,this.handleDrag),(0,i.removeEvent)(o.ownerDocument,g.stop,this.handleDragStop))}),h(this,"onMouseDown",e=>(g=p,this.handleDragStart(e))),h(this,"onMouseUp",e=>(g=p,this.handleDragStop(e))),h(this,"onTouchStart",e=>(g=f,this.handleDragStart(e))),h(this,"onTouchEnd",e=>(g=f,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;let e=this.findDOMNode();e&&(0,i.addEvent)(e,f.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;let e=this.findDOMNode();if(e){let{ownerDocument:t}=e;(0,i.removeEvent)(t,p.move,this.handleDrag),(0,i.removeEvent)(t,f.move,this.handleDrag),(0,i.removeEvent)(t,p.stop,this.handleDragStop),(0,i.removeEvent)(t,f.stop,this.handleDragStop),(0,i.removeEvent)(e,f.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,i.scheduleRemoveUserSelectStyles)(t)}}findDOMNode(){return this.props?.nodeRef?this.props?.nodeRef?.current:o.default.findDOMNode(this)}render(){return n.cloneElement(n.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}a.default=m,h(m,"displayName","DraggableCore"),h(m,"propTypes",{allowAnyClick:r.default.bool,allowMobileScroll:r.default.bool,children:r.default.node.isRequired,disabled:r.default.bool,enableUserSelectHack:r.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw Error("Draggable's offsetParent must be a DOM Node.")},grid:r.default.arrayOf(r.default.number),handle:r.default.string,cancel:r.default.string,nodeRef:r.default.object,onStart:r.default.func,onDrag:r.default.func,onStop:r.default.func,onMouseDown:r.default.func,scale:r.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),h(m,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},40166,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),a.default=void 0;var n=f(e.r(71645)),r=h(e.r(45009)),o=h(e.r(74080)),i=e.r(39146),s=e.r(58618),l=e.r(50035),d=e.r(11330),c=h(e.r(92006)),u=h(e.r(8107));function h(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if("function"==typeof WeakMap)var a=new WeakMap,n=new WeakMap;return(f=function(e,t){if(!t&&e&&e.__esModule)return e;var r,o,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(r=t?n:a){if(r.has(e))return r.get(e);r.set(e,i)}for(let t in e)"default"!==t&&({}).hasOwnProperty.call(e,t)&&((o=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(o.get||o.set)?r(i,t,o):i[t]=e[t]);return i})(e,t)}function p(){return(p=Object.assign.bind()).apply(null,arguments)}function g(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class m extends n.Component{static getDerivedStateFromProps(e,t){let{position:a}=e,{prevPropsPosition:n}=t;return a&&(!n||a.x!==n.x||a.y!==n.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:a,prevPropsPosition:n}),{x:a.x,y:a.y,prevPropsPosition:{...a}}):null}constructor(e){super(e),g(this,"onDragStart",(e,t)=>{if((0,u.default)("Draggable: onDragStart: %j",t),!1===this.props.onStart(e,(0,l.createDraggableData)(this,t)))return!1;this.setState({dragging:!0,dragged:!0})}),g(this,"onDrag",(e,t)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",t);let a=(0,l.createDraggableData)(this,t),n={x:a.x,y:a.y,slackX:0,slackY:0};if(this.props.bounds){let{x:e,y:t}=n;n.x+=this.state.slackX,n.y+=this.state.slackY;let[r,o]=(0,l.getBoundPosition)(this,n.x,n.y);n.x=r,n.y=o,n.slackX=this.state.slackX+(e-n.x),n.slackY=this.state.slackY+(t-n.y),a.x=n.x,a.y=n.y,a.deltaX=n.x-this.state.x,a.deltaY=n.y-this.state.y}if(!1===this.props.onDrag(e,a))return!1;this.setState(n)}),g(this,"onDragStop",(e,t)=>{if(!this.state.dragging||!1===this.props.onStop(e,(0,l.createDraggableData)(this,t)))return!1;(0,u.default)("Draggable: onDragStop: %j",t);let a={dragging:!1,slackX:0,slackY:0};if(this.props.position){let{x:e,y:t}=this.props.position;a.x=e,a.y=t}this.setState(a)}),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:{...e.position},slackX:0,slackY:0,isElementSVG:!1},e.position&&!(e.onDrag||e.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){return this.props?.nodeRef?.current??o.default.findDOMNode(this)}render(){let{axis:e,bounds:t,children:a,defaultPosition:r,defaultClassName:o,defaultClassNameDragging:d,defaultClassNameDragged:u,position:h,positionOffset:f,scale:g,...m}=this.props,b={},x=null,y=!h||this.state.dragging,v=h||r,w={x:(0,l.canDragX)(this)&&y?this.state.x:v.x,y:(0,l.canDragY)(this)&&y?this.state.y:v.y};this.state.isElementSVG?x=(0,s.createSVGTransform)(w,f):b=(0,s.createCSSTransform)(w,f);let S=(0,i.clsx)(a.props.className||"",o,{[d]:this.state.dragging,[u]:this.state.dragged});return n.createElement(c.default,p({},m,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),n.cloneElement(n.Children.only(a),{className:S,style:{...a.props.style,...b},transform:x}))}}a.default=m,g(m,"displayName","Draggable"),g(m,"propTypes",{...c.default.propTypes,axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:d.dontSetMe,style:d.dontSetMe,transform:d.dontSetMe}),g(m,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})},13072,(e,t,a)=>{"use strict";let{default:n,DraggableCore:r}=e.r(40166);t.exports=n,t.exports.default=n,t.exports.DraggableCore=r},31713,e=>{"use strict";var t=e.i(43476),a=e.i(71645),n=e.i(13072);e.i(47167);let r=e=>{{if(e.startsWith("/Wordrobe"))return e;let t=e.startsWith("/")?e:`/${e}`;return`/Wordrobe${t}`}},o=async()=>null,i=Array.from({length:20},(e,t)=>({id:`avatar${String(t+1).padStart(2,"0")}`,name:`Avatar ${t+1}`,type:"avatar",cost:500*(t+1),imagePath:r(`/assets/character/avatar${String(t+1).padStart(2,"0")}.png`)})),s=[{id:"bg_default",name:"Default",type:"background",cost:0,imagePath:"",style:{backgroundColor:"transparent"}},...Array.from({length:12},(e,t)=>{let a=t+1,n=a<10?`0${a}`:a;return{id:`bg_room_${n}`,name:["Cozy Morning","Midnight Study","Pink Palace","Kitty Lounge","Forest Magic","Toy Kingdom","Deep Ocean","Picnic Time","Space Lab","Sweet Cafe","Dreamy Sky","Fairy Garden"][t],type:"background",cost:1e3*a,imagePath:`/assets/background_room/background_room${n}.png`,style:{backgroundImage:`url(/assets/background_room/background_room${n}.png)`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}})];function l({avatarId:e,className:a="w-64 h-64"}){let n=i.find(t=>t.id===e),o=n?n.imagePath:r("/assets/character/avatar_base.png");return(0,t.jsx)("div",{className:`relative ${a} mx-auto`,children:(0,t.jsx)("img",{src:o,alt:"Avatar",className:"absolute inset-0 w-full h-full object-contain drop-shadow-xl"})})}var d={};!function e(t,a,n,r){var o,i,s,l,d,c,u,h,f,p,g,m=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),b="function"==typeof Path2D&&"function"==typeof DOMMatrix;function x(){}function y(e){var n=a.exports.Promise,r=void 0!==n?n:t.Promise;return"function"==typeof r?new r(e):(e(x,x),null)}var v=(o=function(){if(!t.OffscreenCanvas)return!1;try{var e=new OffscreenCanvas(1,1),a=e.getContext("2d");a.fillRect(0,0,1,1);var n=e.transferToImageBitmap();a.createPattern(n,"no-repeat")}catch(e){return!1}return!0}(),i=new Map,{transform:function(e){if(o)return e;if(i.has(e))return i.get(e);var t=new OffscreenCanvas(e.width,e.height);return t.getContext("2d").drawImage(e,0,0),i.set(e,t),t},clear:function(){i.clear()}}),w=(d=Math.floor(1e3/60),c={},u=0,"function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(s=function(e){var t=Math.random();return c[t]=requestAnimationFrame(function a(n){u===n||u+d-1<n?(u=n,delete c[t],e()):c[t]=requestAnimationFrame(a)}),t},l=function(e){c[e]&&cancelAnimationFrame(c[e])}):(s=function(e){return setTimeout(e,d)},l=function(e){return clearTimeout(e)}),{frame:s,cancel:l}),S=(p={},function(){if(h)return h;if(!n&&m){var t=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {\n  if (msg.data.options) {\n    CONFETTI(msg.data.options).then(function () {\n      if (msg.data.callback) {\n        postMessage({ callback: msg.data.callback });\n      }\n    });\n  } else if (msg.data.reset) {\n    CONFETTI && CONFETTI.reset();\n  } else if (msg.data.resize) {\n    SIZE.width = msg.data.resize.width;\n    SIZE.height = msg.data.resize.height;\n  } else if (msg.data.canvas) {\n    SIZE.width = msg.data.canvas.width;\n    SIZE.height = msg.data.canvas.height;\n    CONFETTI = module.exports.create(msg.data.canvas);\n  }\n}"].join("\n");try{h=new Worker(URL.createObjectURL(new Blob([t])))}catch(e){return"u">typeof console&&"function"==typeof console.warn&&console.warn("ðŸŽŠ Could not load worker",e),null}var a=h;function r(e,t){a.postMessage({options:e||{},callback:t})}a.init=function(e){var t=e.transferControlToOffscreen();a.postMessage({canvas:t},[t])},a.fire=function(e,t,n){if(f)return r(e,null),f;var o=Math.random().toString(36).slice(2);return f=y(function(t){function i(e){e.data.callback===o&&(delete p[o],a.removeEventListener("message",i),f=null,v.clear(),n(),t())}a.addEventListener("message",i),r(e,o),p[o]=i.bind(null,{data:{callback:o}})})},a.reset=function(){for(var e in a.postMessage({reset:!0}),p)p[e](),delete p[e]}}return h}),M={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function j(e,t,a){var n;return n=e&&null!=e[t]?e[t]:M[t],a?a(n):n}function k(e){return e<0?0:Math.floor(e)}function N(e){return parseInt(e,16)}function D(e){return e.map(C)}function C(e){var t=String(e).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:N(t.substring(0,2)),g:N(t.substring(2,4)),b:N(t.substring(4,6))}}function T(e){e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight}function P(e){var t=e.getBoundingClientRect();e.width=t.width,e.height=t.height}function E(e,a){var o,i=!e,s=!!j(a||{},"resize"),l=!1,d=j(a,"disableForReducedMotion",Boolean),c=m&&j(a||{},"useWorker")?S():null,u=i?T:P,h=!!e&&!!c&&!!e.__confetti_initialized,f="function"==typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function p(a){var p,g=d||j(a,"disableForReducedMotion",Boolean),m=j(a,"zIndex",Number);if(g&&f)return y(function(e){e()});i&&o?e=o.canvas:i&&!e&&((p=document.createElement("canvas")).style.position="fixed",p.style.top="0px",p.style.left="0px",p.style.pointerEvents="none",p.style.zIndex=m,e=p,document.body.appendChild(e)),s&&!h&&u(e);var x={width:e.width,height:e.height};function S(){if(c){var t={getBoundingClientRect:function(){if(!i)return e.getBoundingClientRect()}};u(t),c.postMessage({resize:{width:t.width,height:t.height}});return}x.width=x.height=null}function M(){o=null,s&&(l=!1,t.removeEventListener("resize",S)),i&&e&&(document.body.contains(e)&&document.body.removeChild(e),e=null,h=!1)}return(c&&!h&&c.init(e),h=!0,c&&(e.__confetti_initialized=!0),s&&!l&&(l=!0,t.addEventListener("resize",S,!1)),c)?c.fire(a,x,M):function(t,a,i){for(var s,l,d,c,h,f,p,g=j(t,"particleCount",k),m=j(t,"angle",Number),x=j(t,"spread",Number),S=j(t,"startVelocity",Number),M=j(t,"decay",Number),N=j(t,"gravity",Number),C=j(t,"drift",Number),T=j(t,"colors",D),P=j(t,"ticks",Number),E=j(t,"shapes"),_=j(t,"scalar"),O=!!j(t,"flat"),I=((s=j(t,"origin",Object)).x=j(s,"x",Number),s.y=j(s,"y",Number),s),A=g,R=[],$=e.width*I.x,B=e.height*I.y;A--;)R.push(function(e){var t=e.angle*(Math.PI/180),a=e.spread*(Math.PI/180);return{x:e.x,y:e.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*e.startVelocity+Math.random()*e.startVelocity,angle2D:-t+(.5*a-Math.random()*a),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:e.color,shape:e.shape,tick:0,totalTicks:e.ticks,decay:e.decay,drift:e.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*e.gravity,ovalScalar:.6,scalar:e.scalar,flat:e.flat}}({x:$,y:B,angle:m,spread:x,startVelocity:S,color:T[A%T.length],shape:E[Math.floor(Math.random()*(E.length-0))+0],ticks:P,decay:M,gravity:N,drift:C,scalar:_,flat:O}));return o?o.addFettis(R):(l=e,h=R.slice(),f=l.getContext("2d"),p=y(function(e){function t(){d=c=null,f.clearRect(0,0,a.width,a.height),v.clear(),i(),e()}d=w.frame(function e(){n&&(a.width!==r.width||a.height!==r.height)&&(a.width=l.width=r.width,a.height=l.height=r.height),a.width||a.height||(u(l),a.width=l.width,a.height=l.height),f.clearRect(0,0,a.width,a.height),(h=h.filter(function(e){return function(e,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.velocity*=t.decay,t.flat?(t.wobble=0,t.wobbleX=t.x+10*t.scalar,t.wobbleY=t.y+10*t.scalar,t.tiltSin=0,t.tiltCos=0,t.random=1):(t.wobble+=t.wobbleSpeed,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble),t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2);var a,n,r,o,i,s,l,d,c,u,h,f,p,g,m,x,y=t.tick++/t.totalTicks,w=t.x+t.random*t.tiltCos,S=t.y+t.random*t.tiltSin,M=t.wobbleX+t.random*t.tiltCos,j=t.wobbleY+t.random*t.tiltSin;if(e.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-y)+")",e.beginPath(),b&&"path"===t.shape.type&&"string"==typeof t.shape.path&&Array.isArray(t.shape.matrix)){e.fill((a=t.shape.path,n=t.shape.matrix,r=t.x,o=t.y,i=.1*Math.abs(M-w),s=.1*Math.abs(j-S),l=Math.PI/10*t.wobble,d=new Path2D(a),(c=new Path2D).addPath(d,new DOMMatrix(n)),(u=new Path2D).addPath(c,new DOMMatrix([Math.cos(l)*i,Math.sin(l)*i,-Math.sin(l)*s,Math.cos(l)*s,r,o])),u))}else if("bitmap"===t.shape.type){var k=Math.PI/10*t.wobble,N=.1*Math.abs(M-w),D=.1*Math.abs(j-S),C=t.shape.bitmap.width*t.scalar,T=t.shape.bitmap.height*t.scalar,P=new DOMMatrix([Math.cos(k)*N,Math.sin(k)*N,-Math.sin(k)*D,Math.cos(k)*D,t.x,t.y]);P.multiplySelf(new DOMMatrix(t.shape.matrix));var E=e.createPattern(v.transform(t.shape.bitmap),"no-repeat");E.setTransform(P),e.globalAlpha=1-y,e.fillStyle=E,e.fillRect(t.x-C/2,t.y-T/2,C,T),e.globalAlpha=1}else if("circle"===t.shape)e.ellipse?e.ellipse(t.x,t.y,Math.abs(M-w)*t.ovalScalar,Math.abs(j-S)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):(h=t.x,f=t.y,p=Math.abs(M-w)*t.ovalScalar,g=Math.abs(j-S)*t.ovalScalar,m=Math.PI/10*t.wobble,x=2*Math.PI,e.save(),e.translate(h,f),e.rotate(m),e.scale(p,g),e.arc(0,0,1,0,x,void 0),e.restore());else if("star"===t.shape)for(var _=Math.PI/2*3,O=4*t.scalar,I=8*t.scalar,A=t.x,R=t.y,$=5,B=Math.PI/5;$--;)A=t.x+Math.cos(_)*I,R=t.y+Math.sin(_)*I,e.lineTo(A,R),_+=B,A=t.x+Math.cos(_)*O,R=t.y+Math.sin(_)*O,e.lineTo(A,R),_+=B;else e.moveTo(Math.floor(t.x),Math.floor(t.y)),e.lineTo(Math.floor(t.wobbleX),Math.floor(S)),e.lineTo(Math.floor(M),Math.floor(j)),e.lineTo(Math.floor(w),Math.floor(t.wobbleY));return e.closePath(),e.fill(),t.tick<t.totalTicks}(f,e)})).length?d=w.frame(e):t()}),c=t}),(o={addFettis:function(e){return h=h.concat(e),p},canvas:l,promise:p,reset:function(){d&&w.cancel(d),c&&c()}}).promise)}(a,x,M)}return p.reset=function(){c&&c.reset(),o&&o.reset()},p}function _(){return g||(g=E(null,{useWorker:!0,resize:!0})),g}a.exports=function(){return _().apply(this,arguments)},a.exports.reset=function(){_().reset()},a.exports.create=E,a.exports.shapeFromPath=function(e){if(!b)throw Error("path confetti are not supported in this browser");"string"==typeof e?n=e:(n=e.path,r=e.matrix);var t=new Path2D(n),a=document.createElement("canvas").getContext("2d");if(!r){for(var n,r,o,i,s=1e3,l=1e3,d=0,c=0,u=0;u<1e3;u+=2)for(var h=0;h<1e3;h+=2)a.isPointInPath(t,u,h,"nonzero")&&(s=Math.min(s,u),l=Math.min(l,h),d=Math.max(d,u),c=Math.max(c,h));o=d-s;var f=Math.min(10/o,10/(i=c-l));r=[f,0,0,f,-Math.round(o/2+s)*f,-Math.round(i/2+l)*f]}return{type:"path",path:n,matrix:r}},a.exports.shapeFromText=function(e){var t,a=1,n="#000000",r='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';"string"==typeof e?t=e:(t=e.text,a="scalar"in e?e.scalar:a,r="fontFamily"in e?e.fontFamily:r,n="color"in e?e.color:n);var o=10*a,i=""+o+"px "+r,s=new OffscreenCanvas(o,o),l=s.getContext("2d");l.font=i;var d=l.measureText(t),c=Math.ceil(d.actualBoundingBoxRight+d.actualBoundingBoxLeft),u=Math.ceil(d.actualBoundingBoxAscent+d.actualBoundingBoxDescent),h=d.actualBoundingBoxLeft+2,f=d.actualBoundingBoxAscent+2;c+=4,u+=4,(l=(s=new OffscreenCanvas(c,u)).getContext("2d")).font=i,l.fillStyle=n,l.fillText(t,h,f);var p=1/a;return{type:"bitmap",bitmap:s.transferToImageBitmap(),matrix:[p,0,0,p,-c*p/2,-u*p/2]}}}(function(){return"u">typeof window?window:"u">typeof self?self:this||{}}(),d,!1);let c=d.exports;d.exports.create;class u{static instance;bgm=null;sounds=new Map;isMuted=!1;initialized=!1;static getInstance(){return u.instance||(u.instance=new u),u.instance}init(){this.initialized||(this.initialized=!0)}playBGM(){this.initialized||this.init(),this.bgm&&!this.isMuted&&this.bgm.play().catch(e=>console.log("BGM play failed:",e))}stopBGM(){this.bgm&&(this.bgm.pause(),this.bgm.currentTime=0)}playSound(e){if(this.initialized||this.init(),this.isMuted)return;let t=this.sounds.get(e);if(t){let a=t.cloneNode();a.volume=.5,a.play().catch(t=>console.log(`Sound ${e} play failed:`,t))}}toggleMute(){return this.isMuted=!this.isMuted,this.isMuted?this.bgm?.pause():this.bgm?.play(),this.isMuted}}let h=u.getInstance();function f({level:n,onComplete:r,onLevelComplete:o,onHint:i}){var s;let[l,d]=(0,a.useState)(0),[u,f]=(0,a.useState)([]),[p,g]=(0,a.useState)([]),[m,b]=(0,a.useState)(!1),[x,y]=(0,a.useState)(!1),[v,w]=(0,a.useState)(!1),[S,M]=(0,a.useState)(null),[j,k]=(0,a.useState)(null),[N,D]=(0,a.useState)(!1),C=(0,a.useRef)(!1),T=n.sentences[l],P=(s=n.id)<=3?10:s<=7?20:30;(0,a.useEffect)(()=>{let e=n.sentences[l];e&&(g([...e.english.map((e,t)=>({id:`${e}-${t}`,text:e}))].sort(()=>Math.random()-.5)),f([]),b(!1),y(!1),M(null),k(null),D(!1),C.current=!1)},[l,n]);let E=()=>{y(!1),l<n.sentences.length-1?d(e=>e+1):setTimeout(()=>{_(!0),alert("Level Complete! Great job! ðŸŽ‰"),d(0),o()},100)},_=(e=!1)=>{if(e){let e={origin:{y:.7}};function t(t,a){c({...e,...a,particleCount:Math.floor(200*t)})}t(.25,{spread:26,startVelocity:55}),t(.2,{spread:60}),t(.35,{spread:100,decay:.91,scalar:.8}),t(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),t(.1,{spread:120,startVelocity:45})}else c({particleCount:100,spread:70,origin:{y:.6},colors:["#FF69B4","#FFD700","#00BFFF"]})},O=async t=>{try{let{TextToSpeech:a}=await e.A(85706);await a.speak({text:t,lang:"en-US",rate:1,pitch:1,volume:1,category:"ambient"})}catch{if(window.speechSynthesis){window.speechSynthesis.cancel();let e=new SpeechSynthesisUtterance(t);e.lang="en-US",e.rate=1,window.speechSynthesis.speak(e)}else console.warn("Speech Synthesis not supported")}};return(0,t.jsxs)("div",{className:"flex flex-col items-center w-full max-w-lg mx-auto p-4 py-4 h-full relative",children:[(0,t.jsx)("div",{className:"w-full h-2 bg-gray-200 rounded-full mb-5 shrink-0 overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-gradient-to-r from-pink-400 to-purple-400 rounded-full transition-all duration-500 ease-out",style:{width:`${l/n.sentences.length*100}%`}})}),(0,t.jsxs)("div",{className:"flex-1 w-full flex flex-col justify-center space-y-2 md:space-y-4 min-h-0 overflow-hidden",children:[(0,t.jsxs)("div",{className:"w-full text-center space-y-1 shrink-0",children:[(0,t.jsx)("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest block",children:"Translate this"}),(0,t.jsx)("h2",{className:"text-xl md:text-3xl font-black text-gray-700 leading-tight halo-text break-keep",children:T?.korean})]}),(0,t.jsxs)("div",{className:`
            min-h-[60px] md:min-h-[80px] w-full bg-white/50 rounded-2xl border-2 border-dashed
            flex flex-wrap items-center justify-center gap-2 p-3 transition-all duration-300 shrink-0
            ${m?"border-red-300 bg-red-50/50 shake ring-2 ring-red-200":"border-gray-300"}
            ${x?"border-green-400 bg-green-50/50 scale-105 border-solid ring-4 ring-green-200/50":""}
            ${u.length>0&&!m&&!x?"border-pink-300 border-solid bg-white/80":""}
        `,children:[0===u.length&&!x&&(0,t.jsx)("span",{className:"text-gray-400 text-sm font-medium animate-pulse",children:"Tap words to build sentence"}),u.map((e,a)=>(0,t.jsx)("button",{onClick:()=>((e,t)=>{if(x)return;let a=u.filter((e,a)=>a!==t);h.playSound("click"),f(a),g(t=>[...t,{id:`${e}-${Date.now()}`,text:e}])})(e,a),className:"bg-white shadow-sm px-2 py-1 md:px-3 md:py-1.5 rounded-xl font-bold text-gray-700 animate-pop-in border border-gray-100 hover:bg-red-50 transition-colors text-sm md:text-base",children:e},a))]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto custom-scrollbar w-full min-h-0",children:(0,t.jsx)("div",{className:"flex flex-wrap justify-center gap-2 content-start pb-2",children:p.map(e=>(0,t.jsx)("button",{onClick:()=>{var t,a;return t=e.text,a=e.id,void(!x&&(h.playSound("pop"),f(e=>[...e,t]),g(e=>e.filter(e=>e.id!==a)),b(!1)))},className:" bg-white hover:bg-gray-50 text-gray-600 font-bold py-2 px-3 md:py-3 md:px-5 rounded-xl md:rounded-2xl text-sm md:text-base  shadow-[0_2px_0_0_rgba(0,0,0,0.1)] border-2 border-transparent hover:border-pink-100 active:translate-y-[2px] active:shadow-none transition-all ",children:e.text},e.id))})})]}),(0,t.jsxs)("div",{className:"flex gap-3 w-full shrink-0 mt-auto pt-1 border-t border-gray-100/50",children:[(0,t.jsx)("button",{onClick:()=>{x||(g([...T.english.map((e,t)=>({id:`${e}-${t}`,text:e}))].sort(()=>Math.random()-.5)),f([]))},className:"w-14 h-14 flex items-center justify-center rounded-2xl bg-gray-100 text-gray-400 hover:bg-gray-200 hover:text-gray-600 transition-colors",title:"Reset",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2.5,strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("path",{d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})})}),(0,t.jsx)("button",{onClick:()=>{x||m||i()&&O(T.english.join(" "))},className:"w-14 h-14 flex items-center justify-center rounded-2xl bg-yellow-100 text-yellow-500 hover:bg-yellow-200 hover:text-yellow-600 transition-colors border-2 border-yellow-200",title:"Hint (-20 pts)",children:"ðŸ’¡"}),(0,t.jsx)("button",{onClick:()=>{if(C.current)return;let e=u.join(" "),t=T.english.join(" ");e===t?(y(!0),h.playSound("success"),_(),O(t),C.current=!0,r(P)):(b(!0),h.playSound("fail"),setTimeout(()=>{b(!1)},1e3))},disabled:0===u.length,className:`flex-1 h-14 rounded-2xl font-black text-white shadow-lg transition-all active:scale-95 text-lg tracking-wide flex items-center justify-center gap-2 ${u.length>0?"bg-gradient-to-r from-pink-500 to-purple-500 shadow-pink-200 hover:shadow-pink-300":"bg-gray-200 text-gray-400 shadow-none cursor-not-allowed"}`,children:"CHECK"})]}),x&&(0,t.jsxs)("div",{className:"absolute inset-0 bg-white/95 backdrop-blur-md flex flex-col items-center justify-center p-6 z-40 animate-fade-in space-y-8",children:[(0,t.jsx)("h2",{className:"text-3xl font-black text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-emerald-600 drop-shadow-sm",children:"Correct!"}),(0,t.jsx)("div",{className:"text-xl font-medium text-gray-700 text-center",children:T.english.join(" ")}),(0,t.jsxs)("div",{className:"h-12 flex items-center justify-center",children:[v&&(0,t.jsx)("span",{className:"text-pink-500 font-bold animate-pulse",children:"Listening... ðŸŽ™ï¸"}),"perfect"===j&&(0,t.jsxs)("span",{className:"text-green-500 font-bold text-xl",children:["Perfect! +",P," Points ðŸŒŸ"]}),"try_again"===j&&(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("span",{className:"text-orange-400 font-bold block",children:"Try again!"}),(0,t.jsxs)("span",{className:"text-sm text-gray-400",children:['You said: "',S,'"']})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 w-full max-w-xs",children:[(0,t.jsxs)("button",{onClick:()=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window))return void alert("Speech recognition is not supported in this browser. Try Chrome or Safari.");let e=window.SpeechRecognition||window.webkitSpeechRecognition;if(!e)return;let t=new e;t.lang="en-US",t.interimResults=!1,t.maxAlternatives=1,w(!0),k(null),M(null),t.start(),t.onresult=e=>{let t=e.results[0][0].transcript;M(t);let a=T.english.join(" ").toLowerCase(),n=t.toLowerCase(),o=a.replace(/[.,!?]/g,"").split(/\s+/),i=n.replace(/[.,!?]/g,"").split(/\s+/),s=0;o.forEach(e=>{i.includes(e)&&s++}),s/o.length>=.6||n.includes(a.replace(/[.,!?]/g,""))?(k("perfect"),_(),O(`Perfect! +${P} Points`),N||(r(P),D(!0),setTimeout(()=>{E()},2e3))):k("try_again"),w(!1)},t.onerror=()=>{w(!1),k("try_again")},t.onend=()=>{w(!1)}},disabled:v,className:`
                 flex-1 h-16 rounded-2xl font-bold text-white shadow-lg transition-all active:scale-95 flex flex-col items-center justify-center gap-1
                 ${v?"bg-gray-400 cursor-wait":"bg-gradient-to-b from-blue-400 to-blue-600 shadow-blue-200"}
               `,children:[(0,t.jsx)("span",{className:"text-2xl",children:"ðŸŽ¤"}),(0,t.jsx)("span",{className:"text-xs",children:"Practice"})]}),(0,t.jsxs)("button",{onClick:E,className:"flex-1 h-16 rounded-2xl font-bold text-white shadow-lg transition-all active:scale-95 bg-gradient-to-b from-green-400 to-green-600 shadow-green-200 flex flex-col items-center justify-center gap-1",children:[(0,t.jsx)("span",{className:"text-2xl",children:"âž¡ï¸"}),(0,t.jsx)("span",{className:"text-xs",children:"Next"})]})]}),(0,t.jsx)("button",{onClick:()=>O(T.english.join(" ")),className:"text-gray-400 text-sm hover:text-gray-600 underline",children:"Hear it again ðŸ”Š"})]})]})}function p({points:e,ownedItems:n,onBuy:o,onEquip:l,equippedAvatar:d,equippedBackground:c}){let[u,f]=(0,a.useState)("avatar"),p="avatar"===u?i:s;return(0,t.jsxs)("div",{className:"flex flex-col h-full bg-transparent rounded-[2rem] overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex flex-col border-b border-white/20 sticky top-0 z-10 glass backdrop-blur-xl",children:[(0,t.jsxs)("div",{className:"p-4 flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-pink-600 flex items-center gap-2 halo-text",children:"ðŸ›ï¸ Shop"}),(0,t.jsxs)("div",{className:"px-3 py-1 bg-white/50 rounded-full text-yellow-700 font-bold border border-white shadow-sm text-sm",children:["ðŸ’° ",e]})]}),(0,t.jsxs)("div",{className:"flex px-4 pb-2 gap-2",children:[(0,t.jsx)("button",{onClick:()=>{h.playSound("click"),f("avatar")},className:`flex-1 py-1.5 rounded-lg text-sm font-bold transition-all ${"avatar"===u?"bg-pink-500 text-white shadow-md":"bg-white/40 text-gray-500 hover:bg-white/60"}`,children:"Avatars"}),(0,t.jsx)("button",{onClick:()=>{h.playSound("click"),f("background")},className:`flex-1 py-1.5 rounded-lg text-sm font-bold transition-all ${"background"===u?"bg-purple-500 text-white shadow-md":"bg-white/40 text-gray-500 hover:bg-white/60"}`,children:"Backgrounds"})]})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-2 custom-scrollbar",children:(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3 pb-20",children:p.map(a=>{let i=n.includes(a.id)||0===a.cost,s="avatar"===a.type?d===a.id:c===a.id;return(0,t.jsxs)("div",{className:`
                    flex flex-col p-3 rounded-2xl border transition-all touch-manipulation glass-card
                    ${i?"border-green-200 bg-green-50/30":"border-white/50 hover:bg-white/40"}
                `,children:[(0,t.jsx)("div",{className:`w-full mb-3 overflow-hidden relative border border-white/60 shadow-inner flex items-center justify-center p-2 rounded-xl ${"background"===a.type?"h-24":"aspect-square bg-white/40"}`,children:"avatar"===a.type?(0,t.jsx)("img",{src:a.imagePath,alt:a.name||`Avatar ${a.id.replace("avatar","")}`,className:"w-full h-full object-contain",onError:e=>{e.target.src=r("/assets/character/avatar_base.png")}}):(0,t.jsx)("div",{className:"w-full h-full rounded-lg relative overflow-hidden",children:(0,t.jsx)("div",{className:"absolute inset-0 z-0",style:a.style})})}),(0,t.jsxs)("div",{className:"mt-auto",children:[(0,t.jsx)("p",{className:"text-xs font-bold text-gray-700 mb-2 truncate text-center",children:a.name}),i?(0,t.jsx)("button",{onClick:()=>{h.playSound("click"),l(a)},disabled:s,className:`
                                w-full py-2 rounded-xl text-xs font-bold transition-all border border-white/20
                                ${s?"bg-gray-400/50 text-white cursor-not-allowed":"bg-gradient-to-r from-green-400 to-emerald-500 text-white shadow-lg active:scale-95"}
                            `,children:s?"Wearing":"Wear"}):(0,t.jsx)("button",{onClick:()=>{h.playSound("success"),o(a)},disabled:e<a.cost,className:`
                                w-full py-2 rounded-xl text-xs font-bold flex items-center justify-center gap-1 transition-all border border-white/20
                                ${e<a.cost?"bg-gray-200/50 text-gray-400":"bg-gradient-to-r from-pink-500 to-rose-500 text-white shadow-lg shadow-pink-200/50 active:scale-95"}
                            `,children:(0,t.jsxs)("span",{children:["Buy ",a.cost]})})]})]},a.id)})})})]})}var g=e.i(70119),m=e.i(28381),b=e.i(31268),x=e.i(35293);function y(){(0,x.useKakaoBrowserEscape)();let[e,r]=(0,a.useState)(0),[i,d]=(0,a.useState)(1),[c,u]=(0,a.useState)(null),[y,v]=(0,a.useState)(!0),[w,S]=(0,a.useState)([]),[M,j]=(0,a.useState)("avatar_base"),[k,N]=(0,a.useState)("bg_default"),[D,C]=(0,a.useState)(0),[T,P]=(0,a.useState)("play"),[E,_]=(0,a.useState)(!1),[O,I]=(0,a.useState)(!1),A=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let e=localStorage.getItem("wordrobe_points"),t=localStorage.getItem("wordrobe_level"),a=localStorage.getItem("wordrobe_owned"),n=localStorage.getItem("wordrobe_equipped"),o=localStorage.getItem("wordrobe_bg_equipped");e&&r(Number(e)),t&&d(Number(t)),a&&S(JSON.parse(a)),n&&j(n),o&&N(o),I(!0),h.init()},[]),(0,a.useEffect)(()=>{O&&localStorage.setItem("wordrobe_points",e.toString())},[e,O]),(0,a.useEffect)(()=>{O&&localStorage.setItem("wordrobe_level",i.toString())},[i,O]),(0,a.useEffect)(()=>{O&&localStorage.setItem("wordrobe_owned",JSON.stringify(w))},[w,O]),(0,a.useEffect)(()=>{O&&localStorage.setItem("wordrobe_equipped",M)},[M,O]),(0,a.useEffect)(()=>{O&&localStorage.setItem("wordrobe_bg_equipped",k)},[k,O]),(0,a.useEffect)(()=>{(async()=>{v(!0),await new Promise(e=>setTimeout(e,500));let e=await o();e&&0!==e.length?console.log("Using Google Sheet data:",e.length,"sentences"):(console.log("Using local backup data."),e=b.default);let t=[...e].map(e=>({...e,difficulty:e.korean.length+(Array.isArray(e.english)?e.english.join(" ").length:e.english.length)})).sort((e,t)=>e.difficulty-t.difficulty),a=t.length,n=Math.max(3,Math.floor(a/10)),r=Math.min(Math.min(i-1,9)*n,a-3),s=Math.min(r+n+2,a);u({id:i,description:`Level ${i}: ${i<=3?"Beginner":i<=7?"Intermediate":"Advanced"}`,sentences:[...t.slice(r,s)].sort(()=>Math.random()-.5).slice(0,10).map(e=>({korean:e.korean,english:"string"==typeof e.english?e.english.split(" "):e.english}))}),v(!1)})()},[i]),(0,t.jsx)("main",{className:"h-screen w-full bg-slate-100 flex items-center justify-center font-sans overflow-hidden",onClick:()=>h.playBGM(),children:(0,t.jsxs)("div",{className:"w-full max-w-md h-full bg-pink-50 flex flex-col relative shadow-2xl overflow-hidden md:rounded-3xl md:h-[95vh] md:border-8 md:border-gray-800 transition-all duration-500 ease-out",style:{paddingTop:"max(env(safe-area-inset-top))",paddingBottom:"max(env(safe-area-inset-bottom))"},children:[(0,t.jsx)(m.default,{isOpen:E,onClose:()=>_(!1)}),(0,t.jsx)(g.default,{points:e,onMenuClick:()=>_(!0),onLogoClick:()=>{h.playSound("click");let e=D+1;C(e),e>=10&&(r(e=>e+5e3),alert("ðŸ¦¸â€â™‚ï¸ ì•„ë¹ ê°€ ìš©ëˆ 5000ì› ì¤¬ë‹¤! (Daddy's Chance Applied)"),C(0))}}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto custom-scrollbar flex flex-col ",children:[(0,t.jsx)("div",{className:"w-full flex justify-center bg-transparent shrink-0",children:(0,t.jsxs)("div",{className:"relative w-full aspect-[4/3] max-h-[400px] flex items-center justify-center overflow-hidden md:rounded-3xl",children:[(0,t.jsx)("div",{className:"absolute inset-0 transition-all duration-500 ease-out z-0",style:s.find(e=>e.id===k)?.style||{background:"transparent"}}),(0,t.jsx)(n.default,{nodeRef:A,bounds:"parent",children:(0,t.jsx)("div",{ref:A,className:"relative w-[220px] h-[220px] aspect-square drop-shadow-2xl z-10 cursor-move active:cursor-grabbing",children:O&&(0,t.jsx)(l,{avatarId:M,className:"w-full h-full object-contain pointer-events-none"})})})]})}),(0,t.jsx)("div",{className:"flex-1 bg-white/60 backdrop-blur-md  shadow-[0_-5px_20px_rgba(0,0,0,0.05)] border-t border-white/80 p-4 min-h-[450px] pb-20",children:"play"===T?(0,t.jsxs)("div",{className:"h-full flex flex-col",children:[(0,t.jsxs)("div",{className:"flex justify-between items-end",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h2",{className:"text-2xl font-black text-gray-700",children:"Level"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("select",{value:i,onChange:e=>{h.playSound("click"),d(Number(e.target.value))},className:"appearance-none bg-pink-100 border border-pink-200 text-pink-600 font-bold py-1 pl-3 pr-8 rounded-full text-lg focus:outline-none focus:ring-2 focus:ring-pink-400",children:Array.from({length:10},(e,t)=>t+1).map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-pink-500",children:(0,t.jsx)("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),(0,t.jsxs)("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest hidden md:block",children:["Difficulty: ",i<=10?i:"Max"]})]}),y?(0,t.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center gap-3 py-10",children:[(0,t.jsx)("div",{className:"w-10 h-10 border-4 border-pink-200 border-t-pink-500 rounded-full animate-spin"}),(0,t.jsx)("p",{className:"text-gray-400 font-bold animate-pulse text-xs uppercase tracking-wider",children:"Loading Questions..."})]}):c?(0,t.jsx)(f,{level:c,onComplete:e=>{r(t=>t+e)},onLevelComplete:()=>{setTimeout(()=>{i<10?d(e=>e+1):alert("ðŸŽ‰ Congratulations! You have cleared all 10 levels! ðŸŽ‰")},1e3)},onHint:()=>e>=20?(r(e=>e-20),!0):(alert("Not enough coins! You need 20 coins for a hint."),!1)}):(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center text-red-400 text-sm",children:"Failed to load data."})]}):(0,t.jsx)(p,{points:e,ownedItems:w,onBuy:t=>{e>=t.cost&&!w.includes(t.id)&&(r(e=>e-t.cost),S(e=>[...e,t.id]),"avatar"===t.type?j(t.id):"background"===t.type&&N(t.id))},onEquip:e=>{"avatar"===e.type?j(e.id):"background"===e.type&&N(e.id)},equippedAvatar:M,equippedBackground:k})})]}),(0,t.jsxs)("nav",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 bg-white/90 backdrop-blur-xl p-1.5 rounded-full shadow-2xl border border-white/60 flex gap-1 z-50",children:[(0,t.jsxs)("button",{onClick:()=>{h.playSound("click"),P("play")},className:`px-6 py-3 rounded-full font-bold text-sm transition-all flex items-center gap-2
                    ${"play"===T?"bg-gradient-to-r from-pink-500 to-purple-500 text-white shadow-md transform scale-105":"text-gray-400 hover:bg-gray-100"}
                `,children:[(0,t.jsx)("span",{children:"ðŸŽ®"})," Play"]}),(0,t.jsxs)("button",{onClick:()=>{h.playSound("click"),P("shop")},className:`px-6 py-3 rounded-full font-bold text-sm transition-all flex items-center gap-2
                    ${"shop"===T?"bg-gradient-to-r from-yellow-400 to-orange-400 text-white shadow-md transform scale-105":"text-gray-400 hover:bg-gray-100"}
                `,children:[(0,t.jsx)("span",{children:"ðŸ›ï¸"})," Shop"]})]})]})})}e.s(["default",()=>y],31713)}]);